<project name="Export plugins" default="export" basedir=".">
	<target name="init">
		<tstamp/>
		<available file="../../org.eclipse.ui.externaltools/scripts/exportplugin.xml" property="externaltools.exists"/>
		<available file="../../org.eclipse.ant.core/scripts/exportplugin.xml" property="ant.exists"/>
	</target>

	<target name="export" depends="init" description="Export all debug plugins">
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.debug.core" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.debug.ui" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.debug" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.debug.ui" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.launching" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.launching.j9" target="export"/>
		<antcall target="ui.externaltools"/>
		<antcall target="ant.core"/>
	</target>
	
	<target name="ui.externaltools" depends="init" if="externaltools.exists" description="Export the external tools plugin">
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.ui.externaltools" target="export"/>
	</target>
	
	<target name="ant.core" depends="init" if="ant.exists" description="Export the ant core plugin">
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.ant.core" target="export"/>
	</target>
</project>
