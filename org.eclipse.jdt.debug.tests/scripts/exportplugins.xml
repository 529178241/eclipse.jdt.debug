<project name="Export plugins" default="export" basedir=".">
	<target name="init">
		<tstamp/>
		<available file="../../org.eclipse.ui.externaltools/buildfiles/exportplugin.xml" property="externaltools.exists"/>
		<available file="../../org.eclipse.ant.core/buildfiles/exportplugin.xml" property="ant.exists"/>
		<available file="../../org.eclipse.ant.ui/buildfiles/exportplugin.xml" property="ant.ui.exists"/>
		<available file="../../org.eclipse.pde.junit/scripts/exportplugin.xml" property="pde.junit.exists"/>
	</target>

	<target name="export" depends="init" description="Export all debug plugins">
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.debug.core" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.debug.ui" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.debug" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.debug.ui" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.launching" target="export"/>
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.jdt.launching.j9" target="export"/>
		<antcall target="ui.externaltools"/>
		<antcall target="ant.core"/>
		<antcall target="ant.ui"/>
		<antcall target="pde.junit"/>
	</target>
	
	<target name="ui.externaltools" depends="init" if="externaltools.exists" description="Export the external tools plugin">
		<ant antfile="buildfiles/exportplugin.xml" dir="../../org.eclipse.ui.externaltools" target="export"/>
	</target>
	
	<target name="ant.core" depends="init" if="ant.exists" description="Export the Ant core plugin">
		<ant antfile="buildfiles/exportplugin.xml" dir="../../org.eclipse.ant.core" target="export"/>
	</target>
	
	<target name="ant.ui" depends="init" if="ant.ui.exists" description="Export the Ant ui plugin">
		<ant antfile="buildfiles/exportplugin.xml" dir="../../org.eclipse.ant.ui" target="export"/>
	</target>
	
	<target name="pde.junit" depends="init" if="pde.junit.exists" description="Export the pde junit plugin">
		<ant antfile="scripts/exportplugin.xml" dir="../../org.eclipse.pde.junit" target="export"/>
	</target>
</project>
